<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TV Chile</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/1.4.12/hls.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --border:   rgba(255,255,255,0.12);
    --border-l: rgba(255,255,255,0.08);
    --text:     #f0f0f0;
    --text2:    rgba(255,255,255,0.55);
    --muted:    rgba(255,255,255,0.3);
    --accent:   rgba(255,255,255,0.6);
    --glass-nav:rgba(8,8,12,0.72);
    --glass-card:rgba(12,12,20,0.38);
    --glass-card-h:rgba(20,20,35,0.55);
    --red:      #e05252;
    --green:    #52e07a;
    --r:        18px;
  }

  *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

  html, body {
    height:100%;
    font-family:'Nunito Sans',system-ui,sans-serif;
    color:var(--text);
    overflow-x:hidden;
    background:#07070f;
  }

  /* ‚îÄ‚îÄ FONDO INTERSTELLAR ‚îÄ‚îÄ */
  .bg-img {
    position:fixed; inset:0; z-index:0;
    background: url('https://pics.filmaffinity.com/Interestelar-229339994-large.jpg')
                center center / cover no-repeat;
    transform:scale(1.04);
    filter:brightness(0.38) saturate(0.7);
    transition: filter 0.8s ease;
  }
  /* overlay oscuro encima para m√°s contraste */
  .bg-overlay {
    position:fixed; inset:0; z-index:1; pointer-events:none;
    background: linear-gradient(
      160deg,
      rgba(4,4,10,0.55) 0%,
      rgba(4,4,10,0.30) 50%,
      rgba(4,4,10,0.65) 100%
    );
  }
  /* noise grain */
  body::before {
    content:''; position:fixed; inset:0; z-index:9999; pointer-events:none;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='.035'/%3E%3C/svg%3E");
    opacity:.6;
  }

  #app { position:relative; z-index:2; min-height:100vh; }
  .view { display:none; }
  .view.active { display:block; }

  /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
  nav {
    position:fixed; top:0; left:0; right:0; height:62px; z-index:300;
    background:var(--glass-nav);
    backdrop-filter:blur(40px) saturate(1.8);
    -webkit-backdrop-filter:blur(40px) saturate(1.8);
    border-bottom:1px solid var(--border);
    display:flex; align-items:center; padding:0 30px; gap:18px;
  }
  .logo { font-size:19px; font-weight:800; letter-spacing:-.5px; margin-right:auto; display:flex; align-items:center; gap:9px; }
  .logo-icon { width:30px; height:30px; background:rgba(255,255,255,0.07); border:1px solid var(--border-l); border-radius:9px; display:flex; align-items:center; justify-content:center; font-size:16px; }
  .logo span { color:var(--text2); font-weight:300; }
  .nav-pill { background:transparent; border:1px solid var(--border); color:var(--text2); padding:6px 17px; border-radius:20px; font-size:13px; font-weight:700; cursor:pointer; transition:.2s; font-family:inherit; white-space:nowrap; }
  .nav-pill:hover, .nav-pill.active { background:rgba(255,255,255,0.1); color:var(--text); border-color:var(--accent); }

  .srch-wrap { position:relative; flex:0 0 240px; }
  .srch { width:100%; background:rgba(255,255,255,0.07); border:1px solid var(--border); border-radius:20px; padding:7px 15px 7px 36px; color:var(--text); font-size:13px; font-family:inherit; outline:none; transition:.2s; }
  .srch::placeholder { color:var(--muted); }
  .srch:focus { background:rgba(255,255,255,0.12); border-color:var(--accent); }
  .srch-ico { position:absolute; left:11px; top:50%; transform:translateY(-50%); color:var(--muted); pointer-events:none; }

  main { padding:82px 30px 50px; }

  /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
  .hero { margin-bottom:32px; animation:up .7s ease both; }
  .hero h1 { font-size:clamp(24px,4vw,42px); font-weight:800; letter-spacing:-1.2px; text-shadow:0 2px 20px rgba(0,0,0,0.8); }
  .hero p { color:var(--text2); font-size:14px; margin-top:6px; text-shadow:0 1px 6px rgba(0,0,0,0.7); }

  /* ‚îÄ‚îÄ STATUS BAR ‚îÄ‚îÄ */
  .status-bar { display:flex; align-items:center; gap:10px; margin-bottom:26px; flex-wrap:wrap; animation:up .5s .1s ease both; }
  .sp {
    background:rgba(255,255,255,0.06);
    backdrop-filter:blur(16px); -webkit-backdrop-filter:blur(16px);
    border:1px solid var(--border-l); border-radius:20px;
    padding:5px 14px; font-size:12px; font-weight:700; color:var(--text2);
    display:flex; align-items:center; gap:7px;
  }
  .dot-r { width:6px; height:6px; background:var(--red); border-radius:50%; box-shadow:0 0 7px var(--red); animation:blink 1.8s ease infinite; }
  .dot-g { width:6px; height:6px; background:var(--green); border-radius:50%; box-shadow:0 0 7px var(--green); }

  /* ‚îÄ‚îÄ CATEGORY TABS ‚îÄ‚îÄ */
  .cat-tabs { display:flex; gap:8px; margin-bottom:22px; flex-wrap:wrap; animation:up .5s .15s ease both; }
  .cat-tab {
    background:rgba(255,255,255,0.05);
    backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px);
    border:1px solid var(--border-l); color:var(--text2); padding:6px 17px;
    border-radius:20px; font-size:13px; font-weight:700; cursor:pointer; transition:.2s; font-family:inherit;
  }
  .cat-tab:hover { background:rgba(255,255,255,0.1); color:var(--text); }
  .cat-tab.active { background:rgba(255,255,255,0.14); border-color:rgba(255,255,255,0.35); color:var(--text); }

  /* ‚îÄ‚îÄ SECTION LABEL ‚îÄ‚îÄ */
  .sec-label { font-size:11px; font-weight:800; text-transform:uppercase; letter-spacing:1.6px; color:var(--muted); margin-bottom:16px; display:flex; align-items:center; gap:10px; }
  .sec-label::after { content:''; flex:1; height:1px; background:var(--border-l); }

  /* ‚îÄ‚îÄ CHANNEL GRID ‚îÄ‚îÄ */
  .ch-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(158px,1fr)); gap:14px; }

  /* ‚îÄ GLASS CARD con blur real del fondo ‚îÄ */
  .ch-card {
    position:relative; overflow:hidden;
    border-radius:var(--r);
    border:1px solid rgba(255,255,255,0.13);
    padding:22px 14px 18px;
    cursor:pointer;
    display:flex; flex-direction:column; align-items:center; gap:12px; text-align:center;
    animation:up .5s ease both;
    transition:transform .25s cubic-bezier(.4,0,.2,1), box-shadow .25s, border-color .25s;
    /* glassmorphism */
    background: rgba(15,15,25,0.35);
    backdrop-filter: blur(28px) saturate(1.6) brightness(1.1);
    -webkit-backdrop-filter: blur(28px) saturate(1.6) brightness(1.1);
    box-shadow: 0 4px 24px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.1);
  }
  /* sheen line en top */
  .ch-card::before {
    content:''; position:absolute; top:0; left:10%; right:10%; height:1px;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,0.22),transparent);
    pointer-events:none;
  }
  .ch-card:hover {
    background:rgba(25,25,45,0.50);
    border-color:rgba(255,255,255,0.28);
    transform:translateY(-6px) scale(1.025);
    box-shadow:0 20px 50px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.08), inset 0 1px 0 rgba(255,255,255,0.15);
  }
  .ch-card:active { transform:scale(.97); }

  .ch-ico  { width:56px; height:56px; border-radius:14px; display:flex; align-items:center; justify-content:center; font-size:27px; background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.1); }
  .ch-name { font-size:13px; font-weight:700; text-shadow:0 1px 4px rgba(0,0,0,0.6); }
  .ch-sub  { font-size:11px; color:var(--muted); display:flex; align-items:center; gap:5px; }

  /* ‚îÄ‚îÄ PAGINATION ‚îÄ‚îÄ */
  .pagination {
    display:flex; align-items:center; justify-content:center;
    gap:6px; margin-top:36px; padding-bottom:10px;
    animation:up .4s .2s ease both;
  }
  .pg-btn {
    background:rgba(255,255,255,0.06);
    backdrop-filter:blur(16px); -webkit-backdrop-filter:blur(16px);
    border:1px solid var(--border-l); color:var(--text2);
    width:38px; height:38px; border-radius:10px;
    display:flex; align-items:center; justify-content:center;
    font-size:13px; font-weight:700; cursor:pointer; transition:.2s; font-family:inherit;
  }
  .pg-btn:hover { background:rgba(255,255,255,0.12); color:var(--text); border-color:var(--accent); }
  .pg-btn.active { background:rgba(255,255,255,0.18); border-color:rgba(255,255,255,0.4); color:var(--text); }
  .pg-btn:disabled { opacity:.3; cursor:not-allowed; }
  .pg-btn.arrow { font-size:16px; }
  .pg-info { font-size:12px; color:var(--muted); padding:0 8px; font-weight:600; }

  /* ‚îÄ‚îÄ EMPTY ‚îÄ‚îÄ */
  .empty { text-align:center; padding:70px 20px; color:var(--muted); }
  .empty h3 { font-size:16px; font-weight:700; margin-bottom:5px; margin-top:14px; }
  .empty p { font-size:13px; }

  /* ‚îÄ‚îÄ PLAYER ‚îÄ‚îÄ */
  #player-view { padding-top:62px; }
  .pl-topbar {
    background:rgba(6,6,12,0.80); backdrop-filter:blur(30px); -webkit-backdrop-filter:blur(30px);
    border-bottom:1px solid var(--border); padding:14px 28px;
    display:flex; align-items:center; gap:18px;
  }
  .back-btn { background:rgba(255,255,255,0.07); border:1px solid var(--border); color:var(--text); padding:7px 16px 7px 12px; border-radius:20px; font-size:13px; font-weight:700; cursor:pointer; display:flex; align-items:center; gap:6px; transition:.2s; font-family:inherit; }
  .back-btn:hover { background:rgba(255,255,255,0.14); }
  .pl-ch-name { font-size:16px; font-weight:800; }
  .pl-ch-cat  { font-size:12px; color:var(--text2); margin-top:2px; }
  .live-badge { margin-left:auto; display:flex; align-items:center; gap:7px; font-size:12px; font-weight:800; text-transform:uppercase; letter-spacing:1px; color:var(--text2); }
  .pl-box { background:#000; position:relative; width:100%; aspect-ratio:16/9; max-height:calc(100vh - 220px); overflow:hidden; }
  #vid { width:100%; height:100%; display:block; background:#000; }
  .pl-grad { position:absolute; inset:0; background:linear-gradient(to bottom,transparent 55%,rgba(0,0,0,.85)); pointer-events:none; }
  .pl-label { position:absolute; bottom:0; left:0; padding:20px 24px; }
  .pl-label-name { font-size:22px; font-weight:800; letter-spacing:-.4px; text-shadow:0 2px 10px rgba(0,0,0,.8); }
  .pl-label-sub  { font-size:12px; color:rgba(255,255,255,.55); margin-top:3px; }
  .pl-loading { position:absolute; inset:0; background:rgba(0,0,0,.75); display:flex; flex-direction:column; align-items:center; justify-content:center; gap:14px; }
  .spinner { width:38px; height:38px; border:3px solid rgba(255,255,255,.1); border-top-color:rgba(255,255,255,.7); border-radius:50%; animation:spin .8s linear infinite; }
  .pl-error { background:rgba(224,82,82,.1); border:1px solid rgba(224,82,82,.28); color:#e07070; border-radius:10px; padding:12px 16px; font-size:13px; margin:12px 28px; display:none; }
  .pl-error.show { display:block; }
  .related-sec { padding:24px 28px; }

  /* ‚îÄ‚îÄ DATA VIEW ‚îÄ‚îÄ */
  .dv-wrap { max-width:960px; margin:0 auto; }
  .dv-header { margin-bottom:28px; animation:up .4s ease both; }
  .dv-header h2 { font-size:26px; font-weight:800; letter-spacing:-.5px; text-shadow:0 2px 16px rgba(0,0,0,0.7); }
  .dv-header p  { color:var(--text2); margin-top:5px; font-size:14px; }
  .dv-card {
    background:rgba(10,10,18,0.55);
    backdrop-filter:blur(30px); -webkit-backdrop-filter:blur(30px);
    border:1px solid var(--border-l); border-radius:var(--r); overflow:hidden;
    margin-bottom:18px; animation:up .4s ease both;
    box-shadow:0 8px 32px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.07);
  }
  .dv-head { padding:14px 20px; border-bottom:1px solid var(--border-l); display:flex; align-items:center; justify-content:space-between; gap:10px; }
  .dv-head h3 { font-size:14px; font-weight:800; }
  .dv-body { padding:18px 20px; }

  .json-editor { width:100%; min-height:320px; background:rgba(0,0,0,0.5); border:1px solid var(--border); border-radius:10px; padding:14px; color:#d4d4d4; font-family:'SF Mono','Fira Code',monospace; font-size:12.5px; line-height:1.7; resize:vertical; outline:none; transition:border-color .2s; tab-size:2; }
  .json-editor:focus { border-color:rgba(255,255,255,0.4); }
  .json-actions { display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }

  .ch-table { width:100%; border-collapse:collapse; }
  .ch-table th { font-size:11px; font-weight:800; text-transform:uppercase; letter-spacing:1px; color:var(--muted); padding:0 8px 10px; text-align:left; }
  .ch-table td { padding:5px 8px; vertical-align:middle; }
  .ch-table tr:not(:last-child) td { border-bottom:1px solid var(--border-l); }

  .di { background:rgba(255,255,255,0.06); border:1px solid var(--border); border-radius:7px; padding:6px 10px; color:var(--text); font-size:13px; font-family:inherit; width:100%; outline:none; transition:.2s; }
  .di:focus { border-color:rgba(255,255,255,0.4); background:rgba(255,255,255,0.1); }
  .di::placeholder { color:var(--muted); }
  select.di option { background:#111; }

  .ico-btn { background:transparent; border:1px solid var(--border); border-radius:7px; color:var(--text2); width:30px; height:30px; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; transition:.2s; }
  .ico-btn:hover { background:rgba(255,255,255,0.09); color:var(--text); }
  .ico-btn.del:hover { background:rgba(224,82,82,.14); border-color:var(--red); color:var(--red); }
  .ico-btn.play:hover { background:rgba(82,224,122,.1); border-color:var(--green); color:var(--green); }

  .btn { background:rgba(255,255,255,0.08); border:1px solid var(--border); color:var(--text); padding:8px 18px; border-radius:9px; font-size:13px; font-weight:700; cursor:pointer; transition:.2s; font-family:inherit; display:inline-flex; align-items:center; gap:7px; white-space:nowrap; }
  .btn:hover { background:rgba(255,255,255,0.16); border-color:var(--accent); }
  .btn.danger:hover { background:rgba(224,82,82,.14); border-color:var(--red); color:var(--red); }

  .add-row-btn { width:100%; margin-top:10px; padding:10px; background:rgba(255,255,255,0.03); border:1px dashed var(--border); border-radius:9px; color:var(--text2); font-size:13px; font-weight:700; font-family:inherit; cursor:pointer; transition:.2s; display:flex; align-items:center; justify-content:center; gap:8px; }
  .add-row-btn:hover { background:rgba(255,255,255,0.08); color:var(--text); border-color:var(--accent); }

  .info-row { display:flex; gap:10px; padding:8px 0; border-bottom:1px solid var(--border-l); font-size:13px; color:var(--text2); }
  .info-row:last-child { border-bottom:none; }
  .info-row strong { color:var(--text); min-width:140px; }

  /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
  .toast { position:fixed; bottom:30px; left:50%; transform:translateX(-50%) translateY(100px); background:rgba(10,10,18,0.96); backdrop-filter:blur(20px); border:1px solid var(--border); color:var(--text); padding:11px 24px; border-radius:30px; font-size:14px; font-weight:700; z-index:9998; transition:transform .4s cubic-bezier(.34,1.56,.64,1); pointer-events:none; box-shadow:0 8px 32px rgba(0,0,0,0.5); }
  .toast.show { transform:translateX(-50%) translateY(0); }

  #jsonStatus { font-size:12px; margin-top:8px; min-height:18px; }

  /* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
  @keyframes up    { from{opacity:0;transform:translateY(18px)} to{opacity:1;transform:translateY(0)} }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:.4} }
  @keyframes spin  { to{transform:rotate(360deg)} }

  ::-webkit-scrollbar{width:5px;height:5px}
  ::-webkit-scrollbar-track{background:transparent}
  ::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.1);border-radius:3px}
  ::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.2)}

  @media(max-width:640px){
    nav{padding:0 14px;gap:10px}
    main{padding:76px 14px 40px}
    .srch-wrap{flex:0 0 150px}
    .ch-grid{grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:10px}
    .pl-topbar,.related-sec{padding:12px 14px}
    .dv-body{padding:14px}
    .pagination{gap:4px}
    .pg-btn{width:34px;height:34px;font-size:12px}
  }
</style>
</head>
<body>

<!-- FONDO -->
<div class="bg-img"></div>
<div class="bg-overlay"></div>

<div class="toast" id="toast"></div>

<!-- NAV -->
<nav>
  <div class="logo">
    <div class="logo-icon">üì∫</div>
    TV Chile <span>¬∑</span><span style="font-size:13px;font-weight:300">Stream</span>
  </div>
  <div class="srch-wrap">
    <svg class="srch-ico" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"><circle cx="11" cy="11" r="7"/><path d="m21 21-4.35-4.35"/></svg>
    <input class="srch" id="srchInput" placeholder="Buscar canal‚Ä¶" oninput="filterCh()">
  </div>
  <button class="nav-pill active" id="nav-home" onclick="showView('home')">Inicio</button>
  <button class="nav-pill" id="nav-data" onclick="showView('data')">Gesti√≥n</button>
</nav>

<div id="app">

<!-- ‚ñà‚ñà‚ñà‚ñà HOME VIEW ‚ñà‚ñà‚ñà‚ñà -->
<div id="home-view" class="view active">
  <main>
    <div class="hero">
      <h1>Televisi√≥n Chilena</h1>
      <p>Todos tus canales favoritos en un solo lugar</p>
    </div>

    <div class="status-bar">
      <div class="sp"><div class="dot-r"></div>En Vivo</div>
      <div class="sp"><div class="dot-g"></div><span id="chCount">0</span> canales</div>
      <div class="sp" id="srcPill">üìÑ channels.json</div>
    </div>

    <div class="cat-tabs" id="catTabs"></div>

    <div class="sec-label" id="secLabel">Todos los canales</div>
    <div class="ch-grid" id="chGrid"></div>

    <!-- PAGINACI√ìN -->
    <div class="pagination" id="pagination"></div>

    <div class="empty" id="emptyState" style="display:none">
      <svg width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg>
      <h3>Sin resultados</h3><p>Prueba con otro t√©rmino o categor√≠a</p>
    </div>
  </main>
</div>

<!-- ‚ñà‚ñà‚ñà‚ñà PLAYER VIEW ‚ñà‚ñà‚ñà‚ñà -->
<div id="player-view" class="view">
  <div class="pl-topbar">
    <button class="back-btn" onclick="showView('home')">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="m15 18-6-6 6-6"/></svg>
      Volver
    </button>
    <div><div class="pl-ch-name" id="plName"></div><div class="pl-ch-cat" id="plCat"></div></div>
    <div class="live-badge"><div class="dot-r"></div>En Vivo</div>
  </div>
  <div class="pl-box">
    <video id="vid" controls playsinline></video>
    <div class="pl-grad"></div>
    <div class="pl-label">
      <div class="pl-label-name" id="plLabelName"></div>
      <div class="pl-label-sub"  id="plLabelSub"></div>
    </div>
    <div class="pl-loading" id="plLoading">
      <div class="spinner"></div>
      <div style="font-size:13px;color:rgba(255,255,255,.5)">Cargando transmisi√≥n‚Ä¶</div>
    </div>
  </div>
  <div class="pl-error" id="plError"></div>
  <div class="related-sec">
    <div class="sec-label">Otros canales</div>
    <div class="ch-grid" id="relGrid"></div>
  </div>
</div>

<!-- ‚ñà‚ñà‚ñà‚ñà DATA VIEW ‚ñà‚ñà‚ñà‚ñà -->
<div id="data-view" class="view">
  <main>
    <div class="dv-wrap">
      <div class="dv-header">
        <h2>Gesti√≥n de Canales</h2>
        <p>Fuente: <code style="background:rgba(255,255,255,0.08);padding:2px 8px;border-radius:5px;font-size:12px;color:rgba(255,255,255,0.8)">channels.json</code> ‚Äî edita el JSON o usa la tabla visual</p>
      </div>

      <div class="dv-card">
        <div class="dv-head">
          <h3>üìÑ Editor JSON ‚Äî channels.json</h3>
          <div style="display:flex;gap:8px">
            <button class="btn" onclick="validateJson()">‚úì Validar</button>
            <button class="btn" onclick="applyJson()">‚Ü© Aplicar</button>
          </div>
        </div>
        <div class="dv-body">
          <textarea class="json-editor" id="jsonEditor" spellcheck="false"></textarea>
          <div id="jsonStatus" style="color:var(--text2)"></div>
          <div class="json-actions">
            <button class="btn" onclick="downloadJson()">
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
              Descargar channels.json
            </button>
            <button class="btn" onclick="document.getElementById('importFile').click()">
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
              Cargar JSON
            </button>
            <button class="btn danger" onclick="resetDefaults()">
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 102.13-9.36L1 10"/></svg>
              Restaurar defaults
            </button>
            <input type="file" id="importFile" accept=".json" style="display:none" onchange="loadJsonFile(this)">
          </div>
        </div>
      </div>

      <div class="dv-card">
        <div class="dv-head">
          <h3>üóÇ Tabla Visual</h3>
          <span style="font-size:12px;color:var(--text2)">Se sincroniza con el editor JSON</span>
        </div>
        <div class="dv-body">
          <table class="ch-table">
            <thead>
              <tr>
                <th style="width:50px">Emoji</th>
                <th style="width:130px">Nombre</th>
                <th>URL M3U8</th>
                <th style="width:140px">Categor√≠a</th>
                <th style="width:72px">Acc.</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
          <button class="add-row-btn" onclick="addRow()">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            Agregar Canal
          </button>
        </div>
      </div>

      <div class="dv-card">
        <div class="dv-head"><h3>‚ÑπÔ∏è C√≥mo usar</h3></div>
        <div class="dv-body">
          <div class="info-row"><strong>Flujo</strong>Pon channels.json junto al HTML ‚Üí usa un servidor HTTP ‚Üí se carga autom√°ticamente</div>
          <div class="info-row"><strong>Servidor r√°pido</strong><code style="font-size:11px;background:rgba(255,255,255,0.07);padding:2px 6px;border-radius:4px">python3 -m http.server 8080</code></div>
          <div class="info-row"><strong>Sin servidor</strong>Cambios guardados en localStorage hasta descargar el JSON</div>
          <div class="info-row"><strong>Motor HLS</strong>HLS.js v1.4 ‚Äî streams M3U8 est√°ndar</div>
          <div class="info-row"><strong>Paginaci√≥n</strong>12 canales por p√°gina, navega con los botones debajo de la grilla</div>
        </div>
      </div>
    </div>
  </main>
</div>

</div><!-- #app -->

<script>
// ‚îÄ‚îÄ‚îÄ DEFAULTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const DEFAULTS = [
  {"id":1,  "name":"TVN",        "emoji":"üîµ","url":"https://d1gb9psy75ky90.cloudfront.net/national/live/576p30/index.m3u8","cat":"Nacional"},
  {"id":2,  "name":"Canal 13",   "emoji":"üü°","url":"https://live.canal13.cl/live.m3u8","cat":"Nacional"},
  {"id":3,  "name":"Mega",       "emoji":"üü†","url":"https://d1x0mwiac2rqwt.cloudfront.net/5e5vl4nq4oughe4s/index.m3u8","cat":"Nacional"},
  {"id":4,  "name":"CHV",        "emoji":"üî¥","url":"https://d2gg3tblxgbsh1.cloudfront.net/out/v1/5f4fe434b5454db58d2b5f31ca1c30ea/index.m3u8","cat":"Nacional"},
  {"id":5,  "name":"La Red",     "emoji":"üü£","url":"https://la-red-live.amagi.tv/playlist.m3u8","cat":"Nacional"},
  {"id":6,  "name":"CNN Chile",  "emoji":"üóûÔ∏è","url":"https://cnnchilelive.amagi.tv/playlist.m3u8","cat":"Noticias"},
  {"id":7,  "name":"24 Horas",   "emoji":"‚åö","url":"https://d1gb9psy75ky90.cloudfront.net/24horas/live/576p30/index.m3u8","cat":"Noticias"},
  {"id":8,  "name":"Tele 5",     "emoji":"‚ö™","url":"https://cdn3.wowza.com/1/RTZHRFZhTFkxZU5V/bXJiST13/hls/live/playlist.m3u8","cat":"Regional"},
  {"id":9,  "name":"T13 Radio",  "emoji":"üìª","url":"https://playerservices.streamtheworld.com/api/livestream-redirect/T13RADIO_SC","cat":"Radio"},
  {"id":10, "name":"TV5Monde",   "emoji":"üá´üá∑","url":"https://tv5monde-hls-live.akamaized.net/hls/live/657179/fip/index.m3u8","cat":"Internacional"},
  {"id":11, "name":"Canal 2",    "emoji":"2Ô∏è‚É£","url":"","cat":"Regional"},
  {"id":12, "name":"Canal 9",    "emoji":"9Ô∏è‚É£","url":"","cat":"Nacional"},
  {"id":13, "name":"UCV TV",     "emoji":"üéì","url":"","cat":"Regional"},
  {"id":14, "name":"Canal 8",    "emoji":"8Ô∏è‚É£","url":"","cat":"Regional"},
  {"id":15, "name":"Telecanal",  "emoji":"üì°","url":"","cat":"Nacional"}
];

const CATS     = ["Todos","Nacional","Noticias","Regional","Radio","Internacional"];
const PER_PAGE = 12;

// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let channels   = [];
let currentCat = "Todos";
let currentQ   = "";
let currentPg  = 1;
let hls        = null;

// ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function initApp() {
  let src = "defaults";

  try {
    const res = await fetch('./channels.json?' + Date.now());
    if (res.ok) {
      const data = await res.json();
      if (Array.isArray(data) && data.length) { channels = data; src = "json"; }
    }
  } catch(_) {}

  if (src === "defaults") {
    const saved = localStorage.getItem("tvchile_channels");
    if (saved) { try { channels = JSON.parse(saved); src = "storage"; } catch(_) {} }
  }
  if (!channels.length) channels = JSON.parse(JSON.stringify(DEFAULTS));

  saveStorage();
  const labels = { json:"‚úì channels.json", storage:"üíæ localStorage", defaults:"‚ö†Ô∏è defaults" };
  document.getElementById("srcPill").textContent = labels[src] || "";
  renderHome();
}

function saveStorage() { localStorage.setItem("tvchile_channels", JSON.stringify(channels)); }

// ‚îÄ‚îÄ‚îÄ VIEWS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showView(name) {
  document.querySelectorAll(".view").forEach(v => v.classList.remove("active"));
  document.querySelectorAll(".nav-pill").forEach(b => b.classList.remove("active"));
  document.getElementById(name + "-view").classList.add("active");
  document.getElementById("nav-" + name)?.classList.add("active");
  if (name === "home") renderHome();
  if (name === "data") renderDataView();
  if (name !== "player") stopPlayer();
}

// ‚îÄ‚îÄ‚îÄ HOME ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderHome() {
  document.getElementById("chCount").textContent = channels.length;
  // Cat tabs
  document.getElementById("catTabs").innerHTML = CATS.map(c =>
    `<button class="cat-tab ${c===currentCat?"active":""}" onclick="setCat('${c}')">${c}</button>`
  ).join("");
  renderGrid();
}

function setCat(c) { currentCat = c; currentPg = 1; renderHome(); }
function filterCh() { currentQ = document.getElementById("srchInput").value.toLowerCase(); currentPg = 1; renderGrid(); }

function getFiltered() {
  return channels.filter(ch =>
    (currentCat === "Todos" || ch.cat === currentCat) &&
    (!currentQ || ch.name.toLowerCase().includes(currentQ) || (ch.cat||"").toLowerCase().includes(currentQ))
  );
}

// ‚îÄ‚îÄ‚îÄ GRID + PAGINATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderGrid() {
  const all   = getFiltered();
  const total = all.length;
  const pages = Math.max(1, Math.ceil(total / PER_PAGE));
  if (currentPg > pages) currentPg = pages;

  const start = (currentPg - 1) * PER_PAGE;
  const slice = all.slice(start, start + PER_PAGE);

  const grid  = document.getElementById("chGrid");
  const empty = document.getElementById("emptyState");
  const pg    = document.getElementById("pagination");

  document.getElementById("secLabel").textContent =
    currentCat === "Todos" ? "Todos los canales" : currentCat;

  if (!total) {
    grid.style.display = "none";
    empty.style.display = "block";
    pg.innerHTML = "";
    return;
  }

  grid.style.display = "grid";
  empty.style.display = "none";

  grid.innerHTML = slice.map((ch, i) => `
    <div class="ch-card" style="animation-delay:${i * .04}s" onclick="playChannel(${ch.id})">
      <div class="ch-ico">${ch.emoji || "üì∫"}</div>
      <div>
        <div class="ch-name">${x(ch.name)}</div>
        <div class="ch-sub"><div class="dot-r"></div>${x(ch.cat || "")}</div>
      </div>
    </div>
  `).join("");

  // ‚îÄ‚îÄ Paginaci√≥n ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  if (pages <= 1) { pg.innerHTML = ""; return; }

  let html = "";

  // Bot√≥n anterior
  html += `<button class="pg-btn arrow" onclick="goPage(${currentPg-1})" ${currentPg===1?"disabled":""}>‚Äπ</button>`;

  // N√∫meros de p√°gina con ventana deslizante
  const range = buildPageRange(currentPg, pages);
  range.forEach(item => {
    if (item === "‚Ä¶") {
      html += `<span class="pg-info">‚Ä¶</span>`;
    } else {
      html += `<button class="pg-btn ${item===currentPg?"active":""}" onclick="goPage(${item})">${item}</button>`;
    }
  });

  // Bot√≥n siguiente
  html += `<button class="pg-btn arrow" onclick="goPage(${currentPg+1})" ${currentPg===pages?"disabled":""}>‚Ä∫</button>`;

  // Info de p√°gina
  html += `<span class="pg-info" style="margin-left:4px">${start+1}‚Äì${Math.min(start+PER_PAGE,total)} de ${total}</span>`;

  pg.innerHTML = html;
}

function buildPageRange(cur, total) {
  // Siempre: primera, √∫ltima, y ¬±2 alrededor del actual
  if (total <= 7) return Array.from({length:total}, (_,i) => i+1);
  const set = new Set([1, total, cur, cur-1, cur+1, cur-2, cur+2].filter(n => n>=1 && n<=total));
  const sorted = [...set].sort((a,b)=>a-b);
  const result = [];
  sorted.forEach((n,i) => {
    if (i > 0 && n - sorted[i-1] > 1) result.push("‚Ä¶");
    result.push(n);
  });
  return result;
}

function goPage(p) {
  const all   = getFiltered();
  const pages = Math.max(1, Math.ceil(all.length / PER_PAGE));
  if (p < 1 || p > pages) return;
  currentPg = p;
  renderGrid();
  // Scroll al inicio de la grilla
  document.getElementById("chGrid").scrollIntoView({ behavior:"smooth", block:"start" });
}

// ‚îÄ‚îÄ‚îÄ PLAYER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function playChannel(id) {
  const ch = channels.find(c => c.id === id);
  if (!ch) return;
  if (!ch.url) { toast("‚ö†Ô∏è Este canal no tiene URL configurada"); return; }

  showView("player");
  document.getElementById("nav-home").classList.add("active");
  document.getElementById("plName").textContent      = ch.name;
  document.getElementById("plCat").textContent       = ch.cat || "";
  document.getElementById("plLabelName").textContent = ch.name;
  document.getElementById("plLabelSub").textContent  = ch.cat || "";

  const err  = document.getElementById("plError");
  const load = document.getElementById("plLoading");
  err.classList.remove("show");
  load.style.display = "flex";

  const vid = document.getElementById("vid");
  if (hls) { hls.destroy(); hls = null; }

  if (Hls.isSupported()) {
    hls = new Hls({ enableWorker:true, lowLatencyMode:true, backBufferLength:90 });
    hls.loadSource(ch.url);
    hls.attachMedia(vid);
    hls.on(Hls.Events.MANIFEST_PARSED, () => { load.style.display="none"; vid.play().catch(()=>{}); });
    hls.on(Hls.Events.ERROR, (_,d) => {
      if (d.fatal) {
        load.style.display = "none";
        err.textContent = "‚ö†Ô∏è No se pudo cargar la transmisi√≥n. El stream puede estar offline o bloqueado por CORS.";
        err.classList.add("show");
      }
    });
  } else if (vid.canPlayType("application/vnd.apple.mpegurl")) {
    vid.src = ch.url;
    vid.onloadedmetadata = () => { load.style.display="none"; vid.play(); };
    vid.onerror = () => { load.style.display="none"; err.textContent="‚ö†Ô∏è Error al cargar."; err.classList.add("show"); };
  } else {
    load.style.display = "none";
    err.textContent = "‚ö†Ô∏è Navegador no compatible con HLS.";
    err.classList.add("show");
  }

  document.getElementById("relGrid").innerHTML = channels
    .filter(c => c.id !== id).slice(0, 6)
    .map(c => `
      <div class="ch-card" onclick="playChannel(${c.id})">
        <div class="ch-ico">${c.emoji||"üì∫"}</div>
        <div><div class="ch-name">${x(c.name)}</div><div class="ch-sub"><div class="dot-r"></div>${x(c.cat||"")}</div></div>
      </div>
    `).join("");
}

function stopPlayer() {
  const vid = document.getElementById("vid");
  if (hls) { hls.destroy(); hls = null; }
  vid.pause(); vid.src = "";
}

// ‚îÄ‚îÄ‚îÄ DATA VIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderDataView() { syncEditor(); renderTable(); }

function syncEditor() { document.getElementById("jsonEditor").value = JSON.stringify(channels, null, 2); setStatus(""); }

function validateJson() {
  try {
    const p = JSON.parse(document.getElementById("jsonEditor").value);
    if (!Array.isArray(p)) throw new Error("Debe ser un array JSON");
    setStatus("‚úÖ JSON v√°lido ‚Äî " + p.length + " canales", "var(--green)");
  } catch(e) { setStatus("‚ùå " + e.message, "var(--red)"); }
}

function applyJson() {
  try {
    const p = JSON.parse(document.getElementById("jsonEditor").value);
    if (!Array.isArray(p)) throw new Error("Debe ser un array JSON");
    channels = p; saveStorage(); renderTable();
    setStatus("‚úÖ Aplicado ‚Äî " + channels.length + " canales activos", "var(--green)");
    toast("JSON aplicado ‚úì");
  } catch(e) { setStatus("‚ùå " + e.message, "var(--red)"); }
}

function setStatus(msg, color="var(--text2)") {
  const el = document.getElementById("jsonStatus"); el.textContent = msg; el.style.color = color;
}

function downloadJson() {
  const blob = new Blob([JSON.stringify(channels, null, 2)], {type:"application/json"});
  const a = document.createElement("a"); a.href = URL.createObjectURL(blob); a.download = "channels.json"; a.click();
  toast("channels.json descargado ‚úì");
}

function loadJsonFile(input) {
  const file = input.files[0]; if (!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    try {
      const data = JSON.parse(e.target.result);
      if (!Array.isArray(data)) throw new Error();
      channels = data; saveStorage(); syncEditor(); renderTable();
      toast(data.length + " canales importados ‚úì");
    } catch { toast("‚ùå Archivo JSON inv√°lido"); }
  };
  reader.readAsText(file); input.value = "";
}

function resetDefaults() {
  channels = JSON.parse(JSON.stringify(DEFAULTS));
  saveStorage(); syncEditor(); renderTable();
  toast("Canales restaurados a defaults ‚úì");
}

function renderTable() {
  document.getElementById("tableBody").innerHTML = channels.map(ch => `
    <tr>
      <td><input class="di" style="text-align:center;font-size:18px;padding:4px" value="${x(ch.emoji||"")}" onchange="tblUp(${ch.id},'emoji',this.value)" maxlength="4"></td>
      <td><input class="di" value="${x(ch.name)}" onchange="tblUp(${ch.id},'name',this.value)" placeholder="Nombre"></td>
      <td><input class="di" value="${x(ch.url)}" onchange="tblUp(${ch.id},'url',this.value)" placeholder="https://...m3u8"></td>
      <td>
        <select class="di" onchange="tblUp(${ch.id},'cat',this.value)">
          ${CATS.filter(c=>c!=="Todos").map(c=>`<option value="${c}" ${ch.cat===c?"selected":""}>${c}</option>`).join("")}
        </select>
      </td>
      <td>
        <div style="display:flex;gap:5px">
          <button class="ico-btn play" title="Reproducir" onclick="playChannel(${ch.id})">
            <svg width="11" height="11" viewBox="0 0 24 24" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
          </button>
          <button class="ico-btn del" title="Eliminar" onclick="delRow(${ch.id})">
            <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4h8v2M19 6l-1 14H6L5 6"/></svg>
          </button>
        </div>
      </td>
    </tr>
  `).join("");
}

function tblUp(id, field, value) {
  const ch = channels.find(c => c.id === id);
  if (ch) { ch[field] = value; saveStorage(); syncEditor(); }
}
function delRow(id) { channels = channels.filter(c=>c.id!==id); saveStorage(); syncEditor(); renderTable(); toast("Canal eliminado"); }
function addRow() { channels.push({id:Date.now(),name:"Nuevo Canal",emoji:"üì∫",url:"",cat:"Nacional"}); saveStorage(); syncEditor(); renderTable(); toast("Canal agregado ‚Äî completa los campos"); }

// ‚îÄ‚îÄ‚îÄ UTILS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function x(s) { return String(s).replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"); }
let _tt;
function toast(msg) { const el=document.getElementById("toast"); el.textContent=msg; el.classList.add("show"); clearTimeout(_tt); _tt=setTimeout(()=>el.classList.remove("show"),2700); }

// ‚îÄ‚îÄ‚îÄ GO ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
initApp();
</script>
</body>
</html>
